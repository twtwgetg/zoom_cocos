# 无限模式说明

## 功能描述
无限模式是一个特殊的游戏模式，玩家面对一个8x10的固定网格。游戏开始时，网格的一半位置会随机填充成对的卡牌，另一半位置为空。每过2秒钟，系统会自动生成一对新的卡牌并填充到随机的空位置上。当网格完全填满时，游戏结束。

## 实现原理

### 核心逻辑
1. 在关卡选择界面添加"无限模式"按钮
2. 点击按钮后进入无限模式游戏
3. 游戏使用8x10的固定网格大小
4. 初始填充一半的卡牌对
5. 每2秒生成一对新卡牌
6. 当网格完全填满时游戏结束

### 代码实现

#### frm_guanka.ts
- 添加了[btn_wuxian](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_guanka.ts#L34-L34)按钮的点击事件处理
- 点击后触发[event_play_infinite](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L58-L95)事件

#### frm_main.ts
- 添加了[event_play_infinite](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L58-L95)事件处理逻辑
- 创建8x10的无限模式关卡
- 启动无限模式生成器，每2秒生成一对新卡牌
- 添加了无限模式游戏结束处理

#### gridcreator.ts
- 添加了[CreateInfiniteMode](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/gridcreator.ts#L605-L675)方法用于创建无限模式关卡
- 添加了[generateNewPair](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/gridcreator.ts#L677-L714)方法用于生成新卡牌对
- 实现了网格已满检测逻辑

## 技术细节

### 游戏流程
1. 玩家点击"无限模式"按钮
2. 系统创建8x10网格，填充一半的卡牌对
3. 启动定时器，每2秒生成一对新卡牌
4. 玩家正常游戏，消除卡牌对
5. 当网格完全填满时，游戏结束

### 卡牌生成
- 随机选择两个空位置
- 随机选择卡牌类型
- 在选定位置生成成对的卡牌
- 检查网格是否已满

### 网格已满检测
- 统计空位置数量
- 当空位置少于2个时，无法生成新卡牌对
- 触发游戏结束逻辑

## 用户体验
这个功能为玩家提供了新的挑战：
- 无限模式没有关卡限制，可以一直玩下去
- 随着时间推移，网格会逐渐填满，增加游戏难度
- 玩家需要更快地消除卡牌，避免网格填满
- 提供了与普通关卡不同的游戏体验