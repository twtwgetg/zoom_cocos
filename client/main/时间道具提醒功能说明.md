# 时间道具提醒功能说明

## 功能描述
当游戏时间剩余15秒时，系统会自动提醒玩家时间即将耗尽，并为时间道具按钮播放动画以吸引玩家注意。无论玩家是否拥有时间道具，按钮都会闪烁。

## 实现原理

### 核心逻辑
1. 在游戏主循环中检测剩余时间
2. 当剩余时间≤15秒时，显示提醒消息
3. 为时间道具按钮播放动画以吸引玩家注意
4. 每隔5秒重复提醒一次
5. 当时间恢复充足时，重置提醒状态

### 代码实现

#### frm_main.ts
- 添加了时间提醒相关变量：[timeWarningShown](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L302-L302)和[lastTimeWarningTime](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L303-L303)
- 在[update](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L336-L357)方法中添加了时间检测和提醒逻辑
- 添加了[playTimeButtonAnimation](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L390-L420)方法用于播放时间道具按钮动画
- 添加了[initialTimeCount](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L307-L307)变量用于记录初始时间道具数量
- 添加了[getInitialTimeCount](file:///c:/Users/Administrator/zoom_cocos/client/main/assets/script/frm_main.ts#L441-L443)方法用于获取初始时间道具数量

## 技术细节

### 动画效果
时间道具按钮动画包括：
1. 缩放效果：按钮放大1.2倍然后恢复
2. 晃动效果：按钮左右轻微晃动
3. 重复播放：整个动画序列重复3次

### 提醒机制
- 首次提醒：剩余时间≤15秒时触发
- 重复提醒：每隔5秒重复一次
- 状态重置：时间恢复充足时重置提醒状态
- 消息区分：根据是否有时间道具显示不同的提醒消息

## 用户体验
这个功能提升了游戏的用户体验：
- 及时提醒玩家时间即将耗尽，无论是否有时间道具
- 通过动画效果吸引玩家注意，提高UI元素的可见性
- 避免过度提醒，每隔5秒才重复一次提醒
- 区分不同情况的提醒消息，提供更准确的信息